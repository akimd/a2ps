%%Page: (1) 1
%%BeginPageSetup
/pagesave save def
%%EndPageSetup
iso1dict begin
(Test Files) 35.25 water
gsave
llx lly 12 add translate
/v 0 store
/x0 x v get 4.431713 add sx cw mul add store
/y0 y v get bfs th add sub store
x0 y0 moveto
0 T (REM Script to check space left in database.) c n
0 T (REM ) N
0 T () S
(DECLARE) K n
0 T () S
(  ) p
(CURSOR) K
( tot_space ) p
(IS) K n
(5) # () S
(    ) p
(SELECT) K
( a.tablespace_name, ) p
(sum) K
(\(a.bytes\) ) p
(FROM) K
( dba_data_files a) p n
0 T (      ) S
(GROUP) K
( ) p
(BY) K
( tablespace_name;) p n
0 T (  tbl_tot    ) S
(VARCHAR2) K
(\(50\);) p n
0 T (  byt_tot    ) S
(NUMBER) K
(\(13\);) p n
0 T (  ) S
(CURSOR) K
( free_space ) p
(IS) K n
(10) # () S
(    ) p
(SELECT) K
( ) p
(sum) K
(\(b.bytes\) ) p
(FROM) K
( dba_free_space b) p n
0 T (      ) S
(WHERE) K
( b.tablespace_name = tbl_tot) p n
0 T (      ) S
(GROUP) K
( ) p
(BY) K
( b.tablespace_name;) p n
0 T (  byt_free   ) S
(NUMBER) K
(\(13\);) p n
0 T (  pct_used   ) S
(NUMBER) K
(\(3\);) p n
(15) # () S
(/* ) c n
0 T ( * Here are some useless comments, inserted for testing a2ps) N
0 T ( */) N
0 T () S
(BEGIN) K n
0 T () S
(  DBMS_OUTPUT.PUT_LINE \(RPAD\(') p
(TABLESPACE) str
(',30,') p
( ) str
('\) ||  LPAD\(') p
(Total Bytes) str
(',17,') p
( ) str
('\) ||) p n
0 T ( LPAD\(') S
(Free Bytes) str
(',17,') p
( ) str
('\)) p n
(20) # (   || LPAD\(') S
(% Used) str
(',10,') p
( ) str
('\)\);) p n
0 T (  DBMS_OUTPUT.PUT_LINE \(RPAD\(') S
(-) str
(',79,') p
(-) str
('\)\);) p n
0 T (  ) S
(LOOP) K n
0 T () S
(    ) p
(IF) K
( ) p
(NOT) K
( tot_space%ISOPEN) p n
0 T (    ) S
(THEN) K n
(25) # () S
(      ) p
(OPEN) K
( tot_space;) p n
0 T (    ) S
(END) K
( ) p
(IF) K
(;) p n
0 T (    ) S
(FETCH) K
( tot_space ) p
(INTO) K n
0 T () S
(      tbl_tot,) p n
0 T (      byt_tot;) N
(30) # (    ) S
(IF) K
( tot_space%FOUND) p n
0 T (    ) S
(THEN) K n
0 T () S
(      ) p
(OPEN) K
( free_space;) p n
0 T (      ) S
(FETCH) K
( free_space ) p
(INTO) K
( byt_free;) p n
0 T (      ) S
(IF) K
( free_space%FOUND) p n
(35) # (      ) S
(THEN) K n
0 T () S
(        pct_used := TRUNC\(\(\(1 - \(byt_free/byt_tot\)\) * 100\),0\);) p n
0 T (        DBMS_OUTPUT.PUT_LINE \(RPAD\(tbl_tot,30,') S
( ) str
('\) ||  LPAD\(byt_tot,17,') p
( ) str
('\) || LP) p n
0 T (AD\(byt_free,17,') S
( ) str
('\)) p n
0 T (         || LPAD\(pct_used,10,') S
( ) str
('\)\);) p n
0 T (      ) S
(END) K
( ) p
(IF) K
(;) p n
(40) # (      ) S
(CLOSE) K
( free_space;) p n
0 T (    ) S
(ELSE) K n
0 T () S
(      ) p
(EXIT) K
(;) p n
0 T (    ) S
(END) K
( ) p
(IF) K
(;) p n
0 T (  ) S
(END) K
( ) p
(LOOP) K
(;) p n
(45) # (  ) S
(CLOSE) K
( tot_space;) p n
0 T () S
(END) K
(;) p n
0 T (/) N
(space.pls) (right) (1) title
border
grestore
(The room for the header) rhead
(Printed by Somebody from a machine) (Right) (1) footer
end % of iso1dict
pagesave restore
showpage

%%Trailer
end
%%EOF
